<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>SDSU_translations</title></head>
<body><h2>SDSU translations file</h2>The translations file is used to
translate between high level commands and low level DSP commands and/or
memory locations. If this file is not specified -or any entry in the
file not specified- it will use the defaults indicated below(these are
hard-coded in a C header file)<br><br>The structure is as follows:<br><br>[CMDTRANS]<br>&lt;highlevel_cmd&gt;=&lt;dspcmd | _add_ | _bit_&gt; [args...]<br>....<br><br>One entry per each high level command specified.<br><br>The
values of these "high level" commands&nbsp;are not arbitrary, but
corresponds with very specific high level task. The "args" will depend
on the type of entry specified. Atthe end there is a table with the
current exixting high level commands to be mapped here and the
correspondent default values (if the entry or the file is not present)<br>The address can all use decimal or hexadecimal format (if starts with "0x")<br><br><span style="font-weight: bold;">address</span><br>If the specification is for an address, then the entry must start with the keyword <span style="font-weight: bold;">_add_</span>. In this case the arguments must specify the board, the memory type, and the address itself<br><br><span style="font-weight: bold; font-style: italic;">&lt;tim | util | pci&gt; &lt;X | Y | P | R&gt; &lt;address&gt;</span><br><br>Example:<br><span style="font-style: italic;">cols = _add_ tim Y 0x1</span><br><br>In
this case it specifies that the horizontal (columns) array size should
be writen to address 0x1 on memory Y of timing board.&nbsp;<br><br><br><span style="font-weight: bold;">bit</span><br>If the specification is for an bit in a status register, then the entry must start with the keyword <span style="font-weight: bold;">_bit_</span>.
In this case the arguments must specify the board, the memory type, the
address of the register, and the bit inside that register:<br><br><span style="font-weight: bold; font-style: italic;">&lt;tim | util | pci&gt; &lt;X | Y | P | R&gt; &lt;address&gt;</span> <span style="font-weight: bold; font-style: italic;">&lt;bit&gt;</span><br><br>Example:<br><span style="font-style: italic;">autoshutter = _add_ tim X 0x0 11</span><br><br>In
this case it specifies that the autoshutter status bit should be
located in bit 11 (0-based) of register at address 0 of X memory of
timing board<br><br><span style="font-weight: bold;">dspcmd</span><br>If
the specification is for a dsp three letter command, then there is no
keyword. It assumes a dsp command if none of the other keywords is
present. IN this case there are no arguments, just the DSP command.<br>Example:<br><span style="font-style: italic;">coadds=SNF</span><br><br>In this case specifies that when the number of coadds is set, it should send the command 'SNF' to the dsp on th controller<br><br><br><table style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2"><tbody><tr><td><span style="font-weight: bold;">keyword</span></td><td><span style="font-weight: bold;">default value &nbsp; &nbsp;</span></td><td>panview command</td><td><span style="font-weight: bold;">explanation</span></td></tr><tr><td>framesperbuffer</td><td>FPB</td><td>set fpb &lt;value&gt;</td><td>sets the number of frames per host buffer</td></tr><tr><td>sync</td><td>SSM</td><td>set sync &lt;on | off&gt;</td><td>sets synchronizatiobn when more than one controller is present</td></tr><tr><td>gainspeed</td><td>SGN</td><td>set gainspeed &lt;gain&nbsp;&nbsp;speed&gt;</td><td>sets the gain and speed on he video chain</td></tr><tr><td>roiloc</td><td>SSP</td><td>set roi &lt;xs ys xlen ylen&gt;</td><td>sets the desired region of interest. Uses also following</td></tr><tr><td>roilen</td><td>SSN</td><td>set roi &lt;xs ys xlen ylen&gt;</td><td>sets the regiopn of interest. Uses also previous</td></tr><tr><td>frametime</td><td>RFT</td><td>get frametime</td><td>reads the hardware-measured frametime</td></tr><tr><td>coadds</td><td>SNF</td><td>set coadds &lt;value&gt;</td><td>sets the number of frames to be coadded (NIR)</td></tr><tr><td>nsamples</td><td>SNR</td><td>set fowler &lt;value&gt;<br>set nsample &lt;value&gt;</td><td>sets the number of samples per frame to read. NIR or skipper ccds</td></tr><tr><td>sur</td><td>SUR</td><td>set sur &lt;value&gt;</td><td>sets the number of sample up the ramp frames (NIR)</td></tr><tr><td>cols</td><td>_add_ tim Y 0x0 </td><td>set detformat colsxrows&gt;</td><td>set the size of the FPA.Uses the following also</td></tr><tr><td>rows</td><td>_add_ tim Y 0x1</td><td>set detformat colsxrows&gt;</td><td>set the size of the FPA.Uses the previous also</td></tr><tr><td>xbin</td><td>_add_ tim Y 0x5</td><td>set binning &lt;x y&gt;</td><td>sets the binning in x and y. Uses the following also</td></tr><tr><td>ybin</td><td>_add_ tim Y 0x6</td><td>set binning &lt;x y&gt;</td><td>sets the binning in x and y. Uses the previous also</td></tr></tbody></table><br>Example file:<br><br><small><span style="font-weight: bold; font-style: italic;">[CMDTRANS]</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">frametime=RFT</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">coadds=SNF</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">nsamples=SNR</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">sur=SUR</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">framesperbuffer=FPB</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">gainspeed=SGN</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">sync=SSM</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">cols=_add_ tim Y 0x1</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">rows=_add_ tim Y 0x1</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">xbin=_add_ tim Y 0x5</span><br style="font-weight: bold; font-style: italic;"><span style="font-weight: bold; font-style: italic;">ybin=_add_ tim Y 0x6</span><br style="font-weight: bold; font-style: italic;"><br style="font-weight: bold; font-style: italic;"></small></body></html>